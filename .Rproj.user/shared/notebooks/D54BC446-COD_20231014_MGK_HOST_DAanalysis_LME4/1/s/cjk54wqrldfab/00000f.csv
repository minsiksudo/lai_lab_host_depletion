"0",""
"0","alpha_diversity <- function(data) {"
"0","        otu_table <- otu_table(data) %>% .[colSums(.) !=0]"
"0","        S.obs <- rowSums(t(otu_table) != 0)"
"0","        sample_data <- sample_data(data)"
"0","        data_evenness <- vegan::diversity(t(otu_table)) / log(vegan::specnumber(t(otu_table))) # calculate evenness index using vegan package"
"0","        data_shannon <- vegan::diversity(t(otu_table), index = ""shannon"") # calculate Shannon index using vegan package"
"0","        data_hill <- exp(data_shannon)                           # calculate Hills index"
"0","        "
"0","        data_dominance <- microbiome::dominance(otu_table, index = ""all"", rank = 1, aggregate = TRUE) # dominance (Berger-Parker index), etc."
"0","        data_invsimpson <- vegan::diversity(t(otu_table), index = ""invsimpson"")                          # calculate Shannon index using vegan package"
"0","        alpha_diversity <- cbind(S.obs, data_shannon, data_hill, data_invsimpson, data_evenness,data_dominance) # combine all indices in one data table"
"0","        sample_data <- merge(data.frame(sample_data), alpha_diversity, by = 0, all = T) %>% column_to_rownames(var = ""Row.names"")"
"0","}"
"0",""
"0","sample_data(phyloseq$phyloseq_rel) <- sample_data(alpha_diversity(phyloseq$phyloseq_count))"
"0","sample_data(phyloseq$phyloseq_count) <- sample_data(alpha_diversity(phyloseq$phyloseq_count)) "
"0","sample_data(phyloseq$phyloseq_path_rpk) <- sample_data(alpha_diversity(phyloseq$phyloseq_path_rpk))"
"0",""
